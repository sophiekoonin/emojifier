<div class="accessory-container">
  <h2 class="visually-hidden">Faces & accessories</h2>
  <div class="accessory-selector">
    <form class="colour-picker accordion is-open" id="colour-picker">
      <h3>
        <button type="button" class="accordion-trigger is-open" data-contentid="colour-options">Colours & skin tones</button>
      </h3>
      <div class="accordion-content is-open colour-picker-content" id="colour-options" aria-expanded="true">
        <span class="visually-hidden">Colours will be updated automatically as you select them.</span>
        <div class="color-picker-list">
          <label for="primary-color" id="primary-color-label">
            <input class="colour-picker-input" type="color" id="primary-color"/>
            <span class="colour-swatch" id="primary-preview" aria-hidden="true"></span>
            Primary colour/main skin colour
          </label>
          <label id="secondary-color-label" for="secondary-color">
            <input class="colour-picker-input" type="color" id="secondary-color"/>
            <span class="colour-swatch" id="secondary-preview" aria-hidden="true"></span>
            Secondary colour</label>
          <label id="tertiary-color-label" for="tertiary-color">
            <input class="colour-picker-input" type="color" id="tertiary-color"/>
            <span class="colour-swatch" id="tertiary-preview" aria-hidden="true"></span>
            Tertiary colour</label>
        </div>
        <div id="hair-preset-list" class="hair-preset-list hidden">
          <h4>Hair colour presets</h4>
          <button type="button" id="hair-preset-blonde">
            <span class="colour-swatch blonde"></span>
            <span class="visually-hidden">Blonde hair</span>
          </button>
          <button type="button" id="hair-preset-lightred">
            <span class="colour-swatch lightred"></span>
            <span class="visually-hidden">Light red hair</span>
          </button>
          <button type="button" id="hair-preset-darkred">
            <span class="colour-swatch darkred"></span>
            <span class="visually-hidden">Dark red hair</span>
          </button>
          <button type="button" id="hair-preset-lightbrown">
            <span class="colour-swatch lightbrown"></span>
            <span class="visually-hidden">Light brown hair</span>
          </button>
          <button type="button" id="hair-preset-darkbrown">
            <span class="colour-swatch darkbrown"></span>
            <span class="visually-hidden">Dark brown hair</span>
          </button>
          <button type="button" id="hair-preset-lightblack">
            <span class="colour-swatch lightblack"></span>
            <span class="visually-hidden">Light black hair</span>
          </button>
          <button type="button" id="hair-preset-darkblack">
            <span class="colour-swatch darkblack"></span>
            <span class="visually-hidden">Dark black hair</span>
          </button>
          <button type="button" id="hair-preset-grey">
            <span class="colour-swatch grey"></span>
            <span class="visually-hidden">Grey hair</span>
          </button>
        </div>
        <fieldset class="skintone-picker">
          <legend>
            <h4>Default skintone</h4>
          </legend>
          <div class="skintone-picker-grid">
            <label class="skintone-picker-option" id="skintone-label-a" for="a"><input type="radio" class="skintone-picker-input" id="a" name="skintone" value="a"/>
              <span class="visually-hidden">Base</span><img src="/images/swatches/base.svg"/></label>
            <label class="skintone-picker-option" id="skintone-label-b" for="b"><input type="radio" class="skintone-picker-input" id="b" name="skintone" value="b"/>
              <span class="visually-hidden">Light</span><img src="/images/swatches/1f3fb.svg"/></label>
            <label class="skintone-picker-option" id="skintone-label-c" for="c"><input type="radio" class="skintone-picker-input" id="c" name="skintone" value="c"/>
              <span class="visually-hidden">Medium-light</span><img src="/images/swatches/1f3fc.svg"/></label>
            <label class="skintone-picker-option" id="skintone-label-d" for="d"><input type="radio" class="skintone-picker-input" id="d" name="skintone" value="d"/>
              <span class="visually-hidden">Medium</span><img src="/images/swatches/1f3fd.svg"/></label>
            <label class="skintone-picker-option" id="skintone-label-e" for="e"><input type="radio" class="skintone-picker-input" id="e" name="skintone" value="e"/>
              <span class="visually-hidden">Medium-dark</span><img src="/images/swatches/1f3fe.svg"/></label>
            <label class="skintone-picker-option" id="skintone-label-f" for="f"><input type="radio" class="skintone-picker-input" id="f" name="skintone" value="f"/>
              <span class="visually-hidden">Dark</span><img src="/images/swatches/1f3ff.svg"/></label>
          </div>
        </fieldset>
      </div>
    </form>
    {% for category in accessories %}
      <div class="accordion">
        <h3>
          <button type="button" class="accordion-trigger is-open" data-contentid="{{ category.name }}-options">{{ category.heading }}</button>
        </h3>
        <div class="accordion-content is-open accessory-selector-group" id="{{ category.name }}-options" aria-expanded="true">
          {% for item in category.items %}
            <button type="button" title="{{ item.name }}" class="selector-option {{ " multiple" if item.qty === 2 }} {{ " reversed" if not item.noflip }}">
              {% if item.type === "img" %}
                <img src="/images/{{ category.name }}/{{ item.filename }}" alt="{{ item.name }}" id="{{ item.id }}" data-qty="{{ item.qty }}" data-noflip="{{ "true" if item.noflip else "false" }}"/>
              {% elif item.type === 'remote' %}
                <img src="{{ item.src }}" alt="{{ item.name }}"/>
              {% else %}
                {% include "partials/accessories/" +  category.name + "/" + item.filename %}
                {% if item.qty === 2 %}
                  {% include "partials/accessories/" +  category.name + "/" +  item.filename %}
                {% endif %}
              {% endif %}
              <span class="visually-hidden">{{ item.name }}</span>
            </button>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>